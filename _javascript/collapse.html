<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI';
        }
        .collapse {
            width: 600px;
            margin: auto;
        }
        .collapse-link {
            background-color: #e5ff70;
            display: block;
            text-decoration: none;
            color: #000;
            padding: 15px;
            border-bottom: 1px solid #70794a;
            transition: .4s
            
        }
        .collapse-link:hover {
            background-color: #ff6868;
        }
        .collapse-link.active{
            
            background-color: #ff6868;
        }
        .collapse-panel {
            background-color: #ddd;
            
            padding:0 15px;
            height: 0;
            overflow: hidden;
            box-sizing: content-box;
            transition: .3s;
        }
        .collapse-panel.active {
            padding: 15px;
        }
    </style>
</head>
<body>
    <div class="collapse">
        <a href="#panel-1" class="collapse-link">link 1</a>
        <div class="collapse-panel" id="panel-1">
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Odio molestias omnis delectus quibusdam, minima ipsum quae fugit corrupti doloribus ad quas magni perspiciatis error, dolores dolorem blanditiis unde. Reiciendis, eum.
            </p>
        </div>
        <a href="#panel-2" class="collapse-link">link 2</a>
        <div class="collapse-panel" id="panel-2">
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsam accusantium, quidem nobis maiores earum deleniti. Voluptas suscipit illum sint fugiat natus provident architecto explicabo, earum placeat. Cumque optio facilis labore recusandae delectus dolores eius quae provident praesentium. Atque eius facere velit, consectetur ea sint eaque omnis libero veniam minus nesciunt at inventore earum quisquam laborum cum iusto sunt natus nulla.
            </p>
        </div>
        <a href="#panel-3" class="collapse-link">link 3</a>
        <div class="collapse-panel" id="panel-3">
            <p>
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nostrum cum nisi iure dolorem quibusdam animi, enim fugit esse placeat quisquam tempore at atque quos omnis possimus. Incidunt odio ab sint reiciendis officia iste eos hic, labore obcaecati earum consequatur amet. Excepturi, similique vero! Nisi!
            </p>
        </div>
    </div>
    <script>
        let links = document.querySelectorAll('.collapse-link');
        links.forEach(data => {
            data.onclick = e => {
                e.target.classList.toggle('active');

                // let href = e.target.getAttribute('href');
                // let panel = document.querySelector(href);
                let panel = e.target.nextElementSibling;

                panel.classList.toggle('active');
                // console.log(panel.style.height);
                if(panel.style.height){
                    console.log('height 存在')
                    panel.style.height = null;
                }else{
                    console.log('height 不存在')
                    // console.log(panel.scrollHeight);
                    panel.style.height = panel.scrollHeight + 'px';
                }
            }
        })
    </script>
</body>
</html>